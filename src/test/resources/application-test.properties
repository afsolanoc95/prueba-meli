# H2 Database in PostgreSQL compatibility mode (No Docker required)
spring.datasource.url=jdbc:h2:mem:testdb;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=test
spring.datasource.password=test
# JPA Configuration for Tests
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
# Disable OpenTelemetry in tests
management.tracing.enabled=false
management.otlp.metrics.export.enabled=false
# Circuit Breaker - Completely disable for tests
resilience4j.circuitbreaker.instances.productCB.registerHealthIndicator=false
resilience4j.circuitbreaker.instances.productCB.slidingWindowSize=100
resilience4j.circuitbreaker.instances.productCB.permittedNumberOfCallsInHalfOpenState=10
resilience4j.circuitbreaker.instances.productCB.waitDurationInOpenState=10000
resilience4j.circuitbreaker.instances.productCB.failureRateThreshold=100
resilience4j.circuitbreaker.instances.productCB.slowCallRateThreshold=100
resilience4j.circuitbreaker.instances.productCB.slowCallDurationThreshold=60000
resilience4j.circuitbreaker.instances.reviewCB.registerHealthIndicator=false
resilience4j.circuitbreaker.instances.reviewCB.slidingWindowSize=100
resilience4j.circuitbreaker.instances.reviewCB.permittedNumberOfCallsInHalfOpenState=10
resilience4j.circuitbreaker.instances.reviewCB.waitDurationInOpenState=10000
resilience4j.circuitbreaker.instances.reviewCB.failureRateThreshold=100
resilience4j.circuitbreaker.instances.reviewCB.slowCallRateThreshold=100
resilience4j.circuitbreaker.instances.reviewCB.slowCallDurationThreshold=60000
resilience4j.circuitbreaker.instances.questionCB.registerHealthIndicator=false
resilience4j.circuitbreaker.instances.questionCB.slidingWindowSize=100
resilience4j.circuitbreaker.instances.questionCB.permittedNumberOfCallsInHalfOpenState=10
resilience4j.circuitbreaker.instances.questionCB.waitDurationInOpenState=10000
resilience4j.circuitbreaker.instances.questionCB.failureRateThreshold=100
resilience4j.circuitbreaker.instances.questionCB.slowCallRateThreshold=100
resilience4j.circuitbreaker.instances.questionCB.slowCallDurationThreshold=60000
# Logging
logging.level.com.hackerrank.sample=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
